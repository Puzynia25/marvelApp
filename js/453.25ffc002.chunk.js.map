{"version":3,"file":"static/js/453.25ffc002.chunk.js","mappings":"oOAkFA,EA1EmB,WAEf,OAAoCA,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,KAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA4CJ,EAAAA,EAAAA,WAAS,GAArD,eAAOK,EAAP,KAAuBC,EAAvB,KACA,GAAsCN,EAAAA,EAAAA,WAAS,GAA/C,eAAOO,EAAP,KAAoBC,EAApB,KAEA,GAAuCC,EAAAA,EAAAA,KAAhCC,EAAP,EAAOA,QAASC,EAAhB,EAAgBA,MAAOC,EAAvB,EAAuBA,cAEvBC,EAAAA,EAAAA,YAAU,WACNC,EAAUX,GAAQ,EACrB,GAAE,IAEH,IAAMW,EAAY,SAACX,EAAQY,GACbT,GAAVS,GACAH,EAAaT,GACRa,KAAKC,EACb,EAEKA,EAAqB,SAACC,GACxB,IAAIC,GAAQ,EACRD,EAAcE,OAAS,IACzBD,GAAQ,GAGVjB,EAAc,GAAD,eAAKD,IAAL,OAAoBiB,KACjCZ,GAAkB,GAClBF,EAAUD,EAAS,GACnBK,EAAeW,EAClB,EAwBD,IAAME,EAtBN,SAAsBC,GAClB,IAAMC,EAAQD,EAAIE,KAAI,SAACC,EAAMC,GACzB,OACI,eACIC,UAAU,eADd,UAGI,UAAC,KAAD,CAAMC,GAAE,4BAAuBH,EAAKI,IAApC,WACI,gBAAKC,IAAKL,EAAKM,UAAWC,IAAKP,EAAKQ,MAAON,UAAU,sBACrD,gBAAKA,UAAU,oBAAf,SAAoCF,EAAKQ,SACzC,gBAAKN,UAAU,qBAAf,SAAqCF,EAAKS,YAJzCR,EAQhB,IAEF,OACC,eAAIC,UAAU,eAAd,SACKJ,GAGR,CAEeY,CAAalC,GAEvBmC,EAAU1B,IAAYL,GAAiB,SAACgC,EAAA,EAAD,IAAa,KACpDC,EAAe3B,GAAQ,SAAC4B,EAAA,EAAD,IAAkB,KAE/C,OACI,iBAAKZ,UAAU,eAAf,UACKS,EACAE,EACAjB,GACD,mBACImB,SAAUnC,EACVoC,MAAO,CAAC,QAAYlC,EAAc,OAAS,SAC3CoB,UAAU,mCACVe,QAAS,kBAAM5B,EAAUX,EAAhB,EAJb,UAKI,gBAAKwB,UAAU,QAAf,2BAIf,E,UCnED,EAVmB,WAEf,OACI,iCACI,SAACgB,EAAA,EAAD,KACA,SAAC,EAAD,MAGX,C","sources":["components/comicsList/ComicsList.js","components/pages/ComicsPage.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport useMarvelService from '../../services/MarvelService';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport { Link } from 'react-router-dom';\n\nimport './comicsList.scss';\n\nconst ComicsList = () => {\n\n    const [comicslist, setComicslist] = useState([]);\n    const [offset, setOffset] = useState(210);\n    const [newItemLoading, setNewItemLoading] = useState(false);\n    const [comicsEnded, setComicsEnded] = useState(false);\n\n    const {loading, error, getAllComics} = useMarvelService();\n\n    useEffect(() => {\n        onRequest(offset, true)\n    }, [])\n\n    const onRequest = (offset, initial) => {\n        initial ? setNewItemLoading(false) : setNewItemLoading(true);\n        getAllComics(offset)\n            .then(onComicsListLoaded)\n    }\n\n    const onComicsListLoaded = (newComicsList) => {\n        let ended = false;\n        if (newComicsList.length < 8) {\n          ended = true\n        }\n    \n        setComicslist([...comicslist, ...newComicsList]);\n        setNewItemLoading(false);\n        setOffset(offset + 8);\n        setComicsEnded(ended);\n    }\n\n    function renderComics(arr) {\n        const items = arr.map((item, i) => {\n            return (\n                <li \n                    className=\"comics__item\"\n                    key={i}>\n                    <Link to={`/marvelApp/comics/${item.id}`}>\n                        <img src={item.thumbnail} alt={item.title} className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">{item.title}</div>\n                        <div className=\"comics__item-price\">{item.price}</div>\n                    </Link>\n                </li>\n            )\n        })\n\n       return (\n        <ul className=\"comics__grid\">\n            {items}\n        </ul>\n       )\n    }\n\n    const content = renderComics(comicslist);\n    \n    const spinner = loading && !newItemLoading ? <Spinner/> : null;\n    const errorMessage = error ? <ErrorMessage/> : null;\n\n    return (\n        <div className=\"comics__list\">\n            {spinner}\n            {errorMessage}\n            {content}\n            <button \n                disabled={newItemLoading}\n                style={{\"display\" : comicsEnded ? \"none\" : \"block\"}}\n                className=\"button button__main button__long\"\n                onClick={() => onRequest(offset)}>\n                <div className=\"inner\">load more</div>\n            </button>\n        </div>\n    )\n}\n\nexport default ComicsList;","import ComicsList from '../comicsList/ComicsList';\nimport AppBanner from '../appBanner/AppBanner';\n\nconst ComicsPage = () => {\n\n    return (\n        <>\n            <AppBanner/>\n            <ComicsList/>\n        </>\n    );\n}\n\nexport default ComicsPage;"],"names":["useState","comicslist","setComicslist","offset","setOffset","newItemLoading","setNewItemLoading","comicsEnded","setComicsEnded","useMarvelService","loading","error","getAllComics","useEffect","onRequest","initial","then","onComicsListLoaded","newComicsList","ended","length","content","arr","items","map","item","i","className","to","id","src","thumbnail","alt","title","price","renderComics","spinner","Spinner","errorMessage","ErrorMessage","disabled","style","onClick","AppBanner"],"sourceRoot":""}